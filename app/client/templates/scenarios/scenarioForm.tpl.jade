.page.plan: .scenarioForm.container
  .row: .col-md-12: h1.page-title {{_ 'create_scenario'}}
  //General form
  form
    .row: .col-md-12: .form-horizontal
      .form-group
        label.col-sm-3.control-label(for="scenario_name") {{_ 'name'}}
        //- .col-sm-8: input.form-control#scenario_name(type="text" placeholder=name_pl value=(sc_data "name"))
        .col-sm-7: input.form-control#scenario_name(type="text" placeholder="{{_ 'name'}}")
      .form-group
        label.col-sm-3.control-label(for="duration") {{_ 'duration'}}
        .col-sm-7: input.form-control#duration(type="number" placeholder="{{_ 'In'}} {{_ 'u_years'}}")
      .form-group
        label.col-sm-3.control-label(for="total_expenditure") {{_ 'total_expenditure'}}
        .col-sm-7: input.form-control#total_expenditure(type="number" placeholder="{{_ 'In'}} {{_ 'u_euro'}}")
      .form-group
        label.col-sm-3.control-label(for="roi_less_than") {{_ 'roi_less_than'}}
        .col-sm-7: input.form-control#roi_less_than(type="number" placeholder="{{_ 'In'}} {{_ 'u_years'}}")
      .form-group
        label.col-sm-3.control-label(for="logo") {{_ 'logo'}}
        .col-sm-7
          each getActionLogo
            input.logo-radio(type="radio" name="logo" id="!{this.valueOf}" value="!{this.valueOf}" checked="{{isSelected this.valueOf ../logo}}")
            label.logo-label(for="!{this.valueOf}") !{this.valueOf}


    //- Criterions
    #scenarioCriterion
      #scenarioCriterionTitle {{_ "scenario_criterion"}}
      ul#sortable
        each getCriterion
          li.criterion
            .row.row-correct
              .col-sm-1: span.glyphicon.glyphicon-resize-vertical.handlerIcon(aria-hidden="true")
              .col-sm-5: span.criterion-text.criterion-label(true_label=label unit=unit type=type desc=desc) {{_ label}}
              .col-sm-5
                .form-inline: .form-group: .input-group
                  if isCheckbox type
                    .row
                      .col-sm-2: input(type="checkbox" value="" checked="{{isChecked input}}")
                      .col-sm-10: .criterion-text.criterion-desc {{_ desc}}
                  else if isSelectorTechfield type
                    select#addTechfield.form-control(type="select")
                      option(value="" disabled selected) {{_ "select_techField"}}
                      each getTechnical_compliance_items
                        option(value=value selected="{{isSelected input value}}") {{_ label}}
                  else
                    input.form-control#criterionAmount(type="number" value="#{input}")
                    .input-group-addon {{_ unit}}
              .col-sm-1: span.removeCriterion.glyphicon.glyphicon-trash(aria-hidden="true")
        li#addCriterionLi.criterion
          .row.row-correct
            .col-md-3.col-md-offset-1 {{_ 'add_criterion'}}
            .col-md-7
              select#addCriterionSelect.form-control.addCriterion
                option(value="" disabled selected) {{_ "select_criterion"}}
                each getCriterion 'toAdd'
                  option(value=label) {{_ label}}
    br
    br

    //- Criterions
    #scenarioCriterion
      #scenarioCriterionTitle {{_ "scenario_criterion"}}
      ul#sortable
        each getCriterion
          li.criterion
            .row.row-correct
              .col-sm-1: span.glyphicon.glyphicon-resize-vertical.handlerIcon(aria-hidden="true")
              .col-sm-5: span.criterion-text.criterion-label(true_label=label unit=unit type=type desc=desc) {{_ label}}
              .col-sm-5
                .form-inline: .form-group: .input-group
                  if isCheckbox type
                    .row
                      .col-sm-2: input(type="checkbox" value="" checked="{{isChecked input}}")
                      .col-sm-10: .criterion-text.criterion-desc {{_ desc}}
                  else if isSelectorTechfield type
                    select#addTechfield.form-control(type="select")
                      option(value="" disabled selected) {{_ "select_techField"}}
                      each getTechnical_compliance_items
                        option(value=value selected="{{isSelected input value}}") {{_ label}}
                  else
                    input.form-control#criterionAmount(type="number" value="#{input}")
                    .input-group-addon {{_ unit}}
              .col-sm-1: span.removeCriterion.glyphicon.glyphicon-trash(aria-hidden="true")
        li#addCriterionLi.criterion
          .row.row-correct
            .col-md-3.col-md-offset-1 {{_ 'add_criterion'}}
            .col-md-7
              select#addCriterionSelect.form-control.addCriterion
                option(value="" disabled selected) {{_ "select_criterion"}}
                each getCriterion 'toAdd'
                  option(value=label) {{_ label}}
    input#scenario-submit.btn.btn-primary(type="submit" value="{{_ 'scenario_validate'}}")
    //ActionTable
    table.actionTable
      tr
        th {{_ 'planned_for'}}
        th {{_ 'action_type'}}
        th {{_ 'building'}}
        th â‚¬
        th {{_ 'efficiency_in_percent'}}
        th {{_ 'efficiency_in_kWhEF'}}
        th {{_ 'technical_field'}}
        th {{_ 'tri_years'}}
        th {{_ 'actualised_roi'}}
        th {{_ 'comfort_impact'}}
      each displayActions
        tr
          td -
          td {{name}}
          td {{getBuildingName building_id}}
          td {{subventions.residual_cost}}
          td
            each impact_assessment_fluids
              | {{_ opportunity}} : {{per_cent}}
              br
          td
            each impact_assessment_fluids
              | {{_ opportunity}} : {{or_kwhef}}
              br
          td {{_ technical_field}}
          td {{internal_return}}
          td {{actualised_roi}}
          td {{other_gains.comfort}}
    // Timeline link
    #timelineLink
      a.btn.btn-primary(role='button' href='{{pathFor "timeline"}}') {{_ "go_to_timeline"}}
  // Action bucket
  .timeline.container
    .row: .col-md-12
      .animated.fadeInUp
        +timelineBucket
